/* Oracle Drop all sequences and tables */
/* Run as DB User, Not Sys! */

SET SERVEROUTPUT ON;

BEGIN
  
  --Bye Sequences!
  FOR i IN (SELECT us.sequence_name
              FROM USER_SEQUENCES us) LOOP
    dbms_output.put_line('drop sequence ' || i.sequence_name ||';');
    --Optionally Execute
    --EXECUTE IMMEDIATE 'drop sequence ' || i.sequence_name;
  END LOOP;

  --Bye Tables!
  FOR i IN (SELECT ut.table_name
              FROM USER_TABLES ut) LOOP
    dbms_output.put_line('drop table ' || i.table_name || ' CASCADE CONSTRAINTS;'); 
    --Optionally Execute
    --EXECUTE IMMEDIATE 'drop table ' || i.table_name || ' CASCADE CONSTRAINTS';
  END LOOP;

  --Optionally Remove Views!
  FOR i IN (SELECT uv.view_name
              FROM USER_VIEWS uv) LOOP
    dbms_output.put_line('drop view ' || i.view_name || ' CASCADE CONSTRAINTS;'); 
    --Optionally Execute
    --EXECUTE IMMEDIATE 'drop view ' || i.view_name || ' CASCADE CONSTRAINTS';
  END LOOP;

  --Bye Foreign Keys for FRTHR_MODEL (Hard Coded)
  FOR i IN (select owner,table_name,constraint_name
              from all_constraints 
             where constraint_type='R' 
               and owner='FRTHR_MODEL'
             order by owner,table_name,constraint_name) LOOP
    dbms_output.put_line('ALTER TABLE ' || i.owner || '.' || i.table_name || ' DROP CONSTRAINT ' || i.constraint_name ||';');
    --Optionally Execute
    --EXECUTE IMMEDIATE 'ALTER TABLE ' || i.owner || '.' || i.table_name || ' DROP CONSTRAINT ' || i.constraint_name ;
  END LOOP;


END;
/

/* Output */

/* Drop If Necessary */
/*
drop view FRTHR_MODEL.Person_Specimen_V;
drop view FRTHR_MODEL.Specimen_Storage_V;

drop table FRTHR_MODEL.FCONDITION_OCCURRENCE;
drop table FRTHR_MODEL.FCONDITION_ERA;
drop table FRTHR_MODEL.FOBSERVATION_FACT;
drop table FRTHR_MODEL.FOBSERVATION_PERIOD;
drop table FRTHR_MODEL.FORDER_FACT;
drop table FRTHR_MODEL.FPROCEDURE_OCCURRENCE;
drop table FRTHR_MODEL.FENCOUNTER;

drop table FRTHR_MODEL.FSTORAGE;
drop table FRTHR_MODEL.FSPECIMEN_NOTE;
drop table FRTHR_MODEL.FSPECIMEN_EVENT;
drop table FRTHR_MODEL.FSPECIMEN;

drop table FRTHR_MODEL.FPERSON_ASSOC;
drop table FRTHR_MODEL.FPERSON_LCTN;
drop table FRTHR_MODEL.FPROVIDER_LCTN;
drop table FRTHR_MODEL.FPROVIDER;
drop table FRTHR_MODEL.FPERSON;
*/
