/* Oracle Drop all sequences and tables */
/* Run as DB Owner User, Not Sys! */

SET SERVEROUTPUT ON;

BEGIN
  
  --Bye Sequences!
  FOR i IN (SELECT us.sequence_name
              FROM USER_SEQUENCES us) LOOP
    dbms_output.put_line('drop sequence ' || i.sequence_name ||';');
    --Optionally Execute
    --EXECUTE IMMEDIATE 'drop sequence ' || i.sequence_name;
  END LOOP;

  --Bye Tables!
  FOR i IN (SELECT ut.table_name
              FROM USER_TABLES ut) LOOP
    dbms_output.put_line('drop table ' || i.table_name || ' CASCADE CONSTRAINTS;'); 
    --Optionally Execute
    --EXECUTE IMMEDIATE 'drop table ' || i.table_name || ' CASCADE CONSTRAINTS';
  END LOOP;

  --Optionally Remove Views!
  FOR i IN (SELECT uv.view_name
              FROM USER_VIEWS uv) LOOP
    dbms_output.put_line('drop view ' || i.view_name || ' CASCADE CONSTRAINTS;'); 
    --Optionally Execute
    --EXECUTE IMMEDIATE 'drop view ' || i.view_name || ' CASCADE CONSTRAINTS';
  END LOOP;

  --Bye Foreign Keys for FMDR (Hard Coded)
  FOR i IN (select owner,table_name,constraint_name
              from all_constraints 
             where constraint_type='R' 
               and owner='FMDR'
             order by owner,table_name,constraint_name) LOOP
    dbms_output.put_line('ALTER TABLE ' || i.owner || '.' || i.table_name || ' DROP CONSTRAINT ' || i.constraint_name ||';');
    --Optionally Execute
    --EXECUTE IMMEDIATE 'ALTER TABLE ' || i.owner || '.' || i.table_name || ' DROP CONSTRAINT ' || i.constraint_name ;
  END LOOP;


END;
/

/* Output */
/*
drop sequence APP_LOG_ID_SEQ;
drop sequence APP_PRIV_ID_SEQ;
drop sequence APP_ROLE_ID_SEQ;
drop sequence APP_ROLE_PRIV_ID_SEQ;
drop sequence APP_USER_ID_SEQ;
drop sequence APP_USER_ROLE_ID_SEQ;
drop sequence ASSET_ASSOC_PROP_ID_SEQ;
drop sequence ASSET_ASSOC_SEQ_ID;
drop sequence ASSET_PROP_ID_SEQ;
drop sequence ASSET_RESOURCE_COMMENT_ID_SEQ;
drop sequence ASSET_RESOURCE_ID_SEQ;
drop sequence ASSET_RESOURCE_NTTN_ID_SEQ;
drop sequence ASSET_RESOURCE_TYPE_ID_SEQ;
drop sequence ASSET_TYPE_PROP_ID_SEQ;
drop sequence ASSET_TYPE_RES_TYP_ID_SEQ;
drop sequence ASSET_VERSION_ID_SEQ;
drop sequence ATTR_ID_SEQ;
drop sequence ATTR_PROP_ID_SEQ;
drop sequence HIBERNATE_SEQUENCE;
drop sequence LOOKUP_GROUP_ID_SEQ;
drop sequence LOOKUP_GROUP_VALUE_ID_SEQ;
drop sequence LOOKUP_VALUE_ID_SEQ;
drop sequence OBJ_ATTR_MAP_ID_SEQ;
drop sequence OBJ_ID_SEQ;
drop table ASSET_RESOURCE_COMMENT CASCADE CONSTRAINTS;
drop table APP_LOG CASCADE CONSTRAINTS;
drop table APP_PRIV CASCADE CONSTRAINTS;
drop table APP_PROP CASCADE CONSTRAINTS;
drop table APP_ROLE CASCADE CONSTRAINTS;
drop table APP_ROLE_PRIV CASCADE CONSTRAINTS;
drop table APP_USER CASCADE CONSTRAINTS;
drop table APP_USER_PROP CASCADE CONSTRAINTS;
drop table APP_USER_ROLE CASCADE CONSTRAINTS;
drop table ASSET CASCADE CONSTRAINTS;
drop table ASSET_ASSOC CASCADE CONSTRAINTS;
drop table ASSET_ASSOC_PROP CASCADE CONSTRAINTS;
drop table ASSET_PROP CASCADE CONSTRAINTS;
drop table ASSET_RESOURCE CASCADE CONSTRAINTS;
drop table ASSET_RESOURCE_ASSOC CASCADE CONSTRAINTS;
drop table ASSET_RESOURCE_TYPE CASCADE CONSTRAINTS;
drop table ASSET_RESOURCE_VERSION CASCADE CONSTRAINTS;
drop table ASSET_TRANS_MAP CASCADE CONSTRAINTS;
drop table ASSET_TYPE_PROP CASCADE CONSTRAINTS;
drop table ASSET_TYPE_RESOURCE_TYPE CASCADE CONSTRAINTS;
drop table ASSET_VERSION CASCADE CONSTRAINTS;
drop table ASSOCIATION CASCADE CONSTRAINTS;
drop table LOOKUP_GROUP CASCADE CONSTRAINTS;
drop table LOOKUP_GROUP_VALUE CASCADE CONSTRAINTS;
drop table LOOKUP_VALUE CASCADE CONSTRAINTS;
drop table STATS_TABLE CASCADE CONSTRAINTS;
drop table STATS_TABLE_CELL CASCADE CONSTRAINTS;
drop view APP_USER_PROP_V CASCADE CONSTRAINTS;
drop view ASSET_ASSOC_V CASCADE CONSTRAINTS;
drop view ASSET_RESOURCE_V CASCADE CONSTRAINTS;
drop view ASSET_SUMMARY_V CASCADE CONSTRAINTS;
drop view ASSET_TRANS_MAP_V CASCADE CONSTRAINTS;
drop view ASSET_V CASCADE CONSTRAINTS;
drop view LOOKUP_V CASCADE CONSTRAINTS;
drop view USERNAMES_V CASCADE CONSTRAINTS;
ALTER TABLE FMDR.APP_PROP DROP CONSTRAINT APP_PROP_LOOKUP_GROUP_FK1;
ALTER TABLE FMDR.APP_ROLE_PRIV DROP CONSTRAINT APP_ROLE_PRIV_APP_PRIV_FK1;
ALTER TABLE FMDR.APP_ROLE_PRIV DROP CONSTRAINT APP_ROLE_PRIV_APP_ROLE_FK1;
ALTER TABLE FMDR.APP_USER_PROP DROP CONSTRAINT APP_USER_PROP_APP_PROP_FK1;
ALTER TABLE FMDR.APP_USER_PROP DROP CONSTRAINT APP_USER_PROP_APP_USER_FK1;
ALTER TABLE FMDR.APP_USER_ROLE DROP CONSTRAINT APP_USER_ROLE_APP_ROLE_FK1;
ALTER TABLE FMDR.APP_USER_ROLE DROP CONSTRAINT APP_USER_ROLE_APP_USER_FK1;
ALTER TABLE FMDR.ASSET DROP CONSTRAINT ASSET_NAMESPACE_ASSET_ID_FK;
ALTER TABLE FMDR.ASSET DROP CONSTRAINT ASSET_TYPE_ASSET_ID_FK;
ALTER TABLE FMDR.ASSET_RESOURCE DROP CONSTRAINT ASSET_RESOURCE_ASSET_FK1;
ALTER TABLE FMDR.ASSET_RESOURCE DROP CONSTRAINT ASSET_RESOURCE_ASSET_RESO_FK1;
ALTER TABLE FMDR.ASSET_RESOURCE DROP CONSTRAINT ASSET_RESOURCE_ASSET_VERS_FK1;
ALTER TABLE FMDR.ASSET_RESOURCE_ASSOC DROP CONSTRAINT ASSET_RESOURCE_ASSOC_ASSO_FK1;
ALTER TABLE FMDR.ASSET_RESOURCE_COMMENT DROP CONSTRAINT ASSET_RESOURCE_COMMENT_AS_FK1;
ALTER TABLE FMDR.ASSET_TYPE_RESOURCE_TYPE DROP CONSTRAINT ASSET_TYPE_RESOURCE_TYPE_FK1;
ALTER TABLE FMDR.ASSET_TYPE_RESOURCE_TYPE DROP CONSTRAINT ASSET_TYPE_RESOURCE_TYPE_FK2;
ALTER TABLE FMDR.ASSET_VERSION DROP CONSTRAINT ASSET_VERSION_ASSET_ID_FK;
ALTER TABLE FMDR.LOOKUP_GROUP_VALUE DROP CONSTRAINT LOOKUP_GROUP_VALUE_LOOKUP_FK1;
ALTER TABLE FMDR.LOOKUP_GROUP_VALUE DROP CONSTRAINT LOOKUP_GROUP_VALUE_LOOKUP_FK2;
*/